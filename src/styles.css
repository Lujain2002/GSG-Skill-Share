* { box-sizing: border-box; }
body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif; background:#0f1115; color:#f5f7fa; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; }
/* Theme tokens */
:root {
	--surface-base:#161c24;
	--surface-alt:#1c242d;
	--surface-accent:#222A28;
	--surface-accent2:#374036;
	--border-color:#232b36;
	--border-alt:#26313d;
	--muted:#94a3b8;
	--positive:#4ade80;
	--negative:#f87171;
	--table-head-bg:#1e2530;
	--table-row-odd:#141a22;
	--table-row-even:#10151c;
	--table-row-hover:rgba(255,255,255,0.05);
}
html[data-color-mode='light'] :root, html[data-color-mode='light'] body {
	--surface-base:#ffffffee;
	--surface-alt:#f2f5f7;
	--surface-accent:#e7eaed;
	--surface-accent2:#dfe3e7;
	--border-color:#d5d9de;
	--border-alt:#c8ced4;
	--muted:#5a6574;
	--positive:#15803d;
	--negative:#b91c1c;
	--table-head-bg:#eef1f4;
	--table-row-odd:#ffffff;
	--table-row-even:#f7f9fa;
	--table-row-hover:rgba(0,0,0,0.04);
}
html[data-color-mode='light'] body { background:#f5f6f8; color:#1a1f25; }
html[data-color-mode='light'] .card { background:#ffffffcc; border-color:#dfe3e9; }
html[data-color-mode='light'] header.nav { background:#ffffffd9; }
html[data-color-mode='light'] .muted { color:#556272; }
html[data-color-mode='light'] input, html[data-color-mode='light'] select, html[data-color-mode='light'] textarea { background:#ffffff; color:#1a1f25; border-color:#c8d0d9; }
html[data-color-mode='light'] .status.scheduled { background:#2563eb; }
html[data-color-mode='light'] .status.completed { background:#15803d; }
html[data-color-mode='light'] .status.cancelled { background:#b91c1c; }
html[data-color-mode='light'] footer { color:#4b5563; }
a { color:#4dabf7; }
input, select, textarea { background:#1b1f27; border:1px solid #333b47; color:#f5f7fa; padding:.55rem .7rem; border-radius:6px; width:100%; }
input:focus, select:focus, textarea:focus { outline:2px solid #4dabf7; }
button { cursor:pointer; background:#2563eb; color:#fff; border:none; padding:.6rem .95rem; border-radius:6px; font-weight:600; display:inline-flex; gap:.4rem; align-items:center; }
button[disabled] { opacity:.5; cursor:not-allowed; }
button.secondary { background:#334155; }
button.danger { background:#dc2626; }
header.nav { background:#11161d; border-bottom:1px solid #1f2630; padding:.75rem 1rem; display:flex; gap:1rem; align-items:center; transition:background .35s ease, border-color .35s ease; }
header.nav h1 { font-size:1.05rem; margin:0; font-weight:600; letter-spacing:.5px; }
.grow { flex:1; }
.container { max-width:1180px; margin:0 auto; padding:1rem; }
.panels { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(310px,1fr)); }
.card { background:var(--surface-base); border:1px solid var(--border-color); padding:1rem 1.1rem; border-radius:10px; display:flex; flex-direction:column; gap:.75rem; min-height:100px; transition:background .35s ease,border-color .35s ease,color .35s ease; }
.card h3 { margin:.25rem 0 .5rem; font-size:1rem; }
.muted { color:var(--muted); font-size:.82rem; }
form.flexcol { display:flex; flex-direction:column; gap:.75rem; }
.skills-list { display:flex; flex-wrap:wrap; gap:.5rem; }
.chip { background:#1e2530; padding:.35rem .6rem; border-radius:999px; font-size:.75rem; display:inline-flex; gap:.35rem; align-items:center; }
.chip button { background:transparent; padding:0; color:#94a3b8; font-size:.85em; }
/* Teach vs Learn chip color accents */
.skills-list .chip { position:relative; }
.skills-list .chip::before { content:""; position:absolute; inset:0; border-radius:999px; padding:1px; background:linear-gradient(145deg,#2563eb22,#1e40af22); -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; }
.skills-list .chip small { opacity:.65; }

/* Skill editor improvements */
.mode-switch { position:relative; display:flex; background:#1a222c; border:1px solid #26313f; border-radius:12px; padding:4px; margin-bottom:.9rem; }
.mode-switch button { flex:1; background:transparent; border-radius:8px; padding:.55rem 0; font-size:.75rem; font-weight:600; letter-spacing:.5px; color:#94a3b8; position:relative; z-index:2; transition:color .25s ease; }
.mode-switch button.active { color:#fff; }
.mode-switch .mode-indicator { position:absolute; top:4px; bottom:4px; width:calc(50% - 4px); background:#2563eb; border-radius:8px; transition:transform .35s cubic-bezier(.65,.05,.36,1); z-index:1; }
.mode-switch button:first-of-type.active ~ .mode-indicator { transform:translateX(0); }
.mode-switch button:last-of-type.active ~ .mode-indicator { transform:translateX(100%); }
.skill-add-form { display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; }
.skill-add-form input { flex:1 1 180px; }
.skill-add-form select { flex:0 0 150px; }
.skill-add-form button { flex:0 0 auto; }
/* Category select responsive tweak */
@media (max-width:640px) {
	.skill-add-form select { flex:1 1 120px; }
}
table { width:100%; border-collapse:collapse; }
th, td { padding:.5rem .6rem; text-align:left; font-size:.8rem; }
thead { background:var(--table-head-bg); }
tbody tr:nth-child(odd) { background:var(--table-row-odd); }
tbody tr:nth-child(even) { background:var(--table-row-even); }
tbody tr:hover { background:var(--table-row-hover); }
.status { font-size:.65rem; padding:.2rem .45rem; border-radius:4px; background:#334155; text-transform:uppercase; letter-spacing:.5px; }
.status.completed { background:#15803d; }
.status.scheduled { background:#1d4ed8; }
.status.cancelled { background:#b91c1c; }
.tabs { display:flex; gap:.5rem; flex-wrap:wrap; margin-bottom:1rem; }
.tabs button { background:#1f2732; }
.tabs button.active { background:#2563eb; }
.flex { display:flex; }
.gap1 { gap:1rem; }
.justify-between { justify-content:space-between; }
.ledger { max-height:280px; overflow:auto; }
.warn { color:#fcd34d; }
.success { color:#4ade80; }
.error { color:#f87171; }
.inline { display:inline; }
footer { margin-top:3rem; padding:2rem 1rem; font-size:.75rem; text-align:center; color:#64748b; }

/* Auth tabs */
.auth-tabs { max-width:480px; margin:0.5rem auto 0; }
.auth-tab-buttons { position:relative; display:flex; background:rgba(20,26,31,.55); border:1px solid rgba(35,43,54,.6); border-radius:14px; padding:4px; margin-bottom:1.15rem; gap:4px; backdrop-filter:blur(14px) saturate(150%); -webkit-backdrop-filter:blur(14px) saturate(150%); }
.auth-tab-buttons button { flex:1; background:transparent; border-radius:10px; padding:.85rem 0; font-weight:600; letter-spacing:.6px; font-size:.82rem; color:#8fa3ba; transition:color .25s ease; }
.auth-tab-buttons button.active { color:#fff; }
.auth-tab-indicator { position:absolute; top:4px; bottom:4px; width:calc(50% - 4px); background:linear-gradient(135deg,#2563eb,#1e40af); border-radius:10px; transition:transform .35s cubic-bezier(.65,.05,.36,1); box-shadow:0 4px 18px -6px rgba(37,99,235,.65); opacity:.92; }
.auth-tabs[data-tab='signup'] .auth-tab-indicator { transform:translateX(100%); }
.auth-tabs[data-tab='login'] .auth-tab-indicator { transform:translateX(0); }
.auth-tab-buttons button:focus-visible { outline:2px solid #4dabf7; outline-offset:2px; }
.fade-area { position:relative; min-height:310px; }
.fade-panel { position:absolute; inset:0; opacity:0; transform:translateY(8px); transition:opacity .35s ease, transform .35s ease; pointer-events:none; }
.fade-panel.enter-left { transform:translateY(-8px); }
.fade-panel.active { opacity:1; transform:translateY(0); pointer-events:auto; }
.card.auth { padding-top:1.25rem; background:rgba(22,28,36,.6); border:1px solid rgba(40,50,63,.55); backdrop-filter:blur(18px) saturate(150%); -webkit-backdrop-filter:blur(18px) saturate(150%); box-shadow:0 10px 28px -12px rgba(0,0,0,.65); }
.card.auth h3 { text-align:center; margin-top:0; }

/* Dashboard utilities */
.stat-grid { display:grid; gap:.9rem; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
.stat-card { position:relative; background:var(--surface-alt); border:1px solid var(--border-alt); border-radius:12px; padding:1rem 1rem 1.05rem; display:flex; flex-direction:column; gap:.3rem; }
.stat-card.accent-bar { padding-top:1.35rem; }
.stat-card.accent-bar::before { content:""; position:absolute; top:0; left:0; right:0; height:6px; border-top-left-radius:12px; border-top-right-radius:12px; background:linear-gradient(90deg,var(--accent-color,#2563eb), var(--accent-color-to,#1e40af)); box-shadow:0 2px 6px -2px rgba(0,0,0,.4); }

/* Dashboard card border enhancement */
.dashboard .dash-card { position:relative; border:1px solid var(--border-alt); }
.dashboard .dash-card::after { content:""; pointer-events:none; position:absolute; inset:0; border-radius:inherit; padding:1px; background:linear-gradient(145deg,rgba(255,255,255,.065),rgba(255,255,255,0) 45%); -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; }
html[data-color-mode='light'] .dashboard .dash-card { border-color:var(--border-color); }
html[data-color-mode='light'] .dashboard .dash-card::after { background:linear-gradient(145deg,rgba(0,0,0,.08),rgba(0,0,0,0) 50%); }
.stat-card small { font-size:.7rem; text-transform:uppercase; letter-spacing:.55px; opacity:.68; }
.stat-card .value { font-weight:600; font-size:1.2rem; line-height:1.15; }
.stat-card .sub { font-size:.6rem; opacity:.6; }
.pill-row { display:flex; flex-wrap:wrap; gap:.6rem; }
.pill-chip { font-size:.7rem; padding:.45rem .7rem .5rem; border-radius:999px; letter-spacing:.55px; font-weight:600; background:var(--surface-alt); border:1px solid var(--border-alt); }
.pill-chip.primary { background:var(--surface-accent); border:1px solid var(--border-alt); }
.mini-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.5rem; }
.mini-item { font-size:.78rem; line-height:1.45; background:var(--surface-alt); padding:.6rem .7rem; border-radius:8px; border:1px solid var(--border-alt); }
.ledger-mini { font-size:.72rem; line-height:1.35; background:var(--surface-alt); padding:.55rem .65rem; border-radius:8px; border:1px solid var(--border-alt); display:flex; justify-content:space-between; gap:.85rem; }
.amt-pos { color:var(--positive); font-weight:600; }
.amt-neg { color:var(--negative); font-weight:600; }

/* Data table refinements */
table.data-table thead th { font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; }
table.data-table tbody td { border-top:1px solid var(--border-alt); }
html[data-color-mode='light'] table.data-table tbody tr:nth-child(odd) { background:#ffffff; }
html[data-color-mode='light'] table.data-table tbody tr:nth-child(even) { background:#f2f5f7; }
html[data-color-mode='light'] table.data-table tbody tr:hover { background:#e9eef2; }

/* ---- Skill Editor Redesign ---- */
.skill-editor { padding:1.25rem 1.25rem 1.4rem; }
.skill-editor-head { display:flex; flex-wrap:wrap; align-items:flex-end; justify-content:space-between; gap:1.25rem; margin-bottom:1.1rem; }
.skill-editor-head h3 { margin:0; font-size:1.05rem; font-weight:600; }
.skill-editor-head .title-block p { margin:.25rem 0 0; max-width:480px; line-height:1.25; }
.skill-editor-head .counts { display:flex; gap:.75rem; }
.mini-metric { background:var(--surface-alt); border:1px solid var(--border-alt); padding:.45rem .65rem .5rem; border-radius:8px; display:flex; flex-direction:column; min-width:70px; }
.mini-metric .label { font-size:.55rem; text-transform:uppercase; opacity:.6; letter-spacing:.5px; }
.mini-metric .value { font-size:.95rem; font-weight:600; line-height:1; }

.skill-editor-grid { display:grid; grid-template-columns: minmax(260px, 320px) 1fr; gap:1.35rem; align-items:start; }
@media (max-width:900px){ .skill-editor-grid { grid-template-columns:1fr; } }

.entry-side { display:flex; flex-direction:column; gap:1rem; }
.skill-form { display:flex; flex-direction:column; gap:.85rem; background:var(--surface-alt); border:1px solid var(--border-alt); padding:.9rem .95rem 1rem; border-radius:10px; }
.skill-form .row.two { display:grid; grid-template-columns:1fr 1fr; gap:.75rem; }
@media (max-width:520px){ .skill-form .row.two { grid-template-columns:1fr; } }
.skill-form .actions { display:flex; gap:.65rem; }
.tips { font-size:.6rem; line-height:1.2; }

.segmented { display:inline-flex; background:var(--surface-alt); border:1px solid var(--border-alt); border-radius:8px; overflow:hidden; }
.segmented button { all:unset; cursor:pointer; padding:.45rem .9rem; font-size:.7rem; font-weight:600; letter-spacing:.5px; position:relative; color:var(--muted); }
.segmented button.active { background:var(--surface-accent); color:var(--text); }
.segmented button:not(.active):hover { background:var(--surface); color:var(--text); }

.lists-side { display:flex; flex-direction:column; gap:1.1rem; }
.skill-panel { background:var(--surface-alt); border:1px solid var(--border-alt); padding:.85rem .9rem .95rem; border-radius:10px; }
.skill-panel-head { display:flex; align-items:center; justify-content:space-between; gap:.75rem; margin-bottom:.7rem; }
.skill-panel-head h4 { margin:0; font-size:.7rem; text-transform:uppercase; letter-spacing:.8px; font-weight:600; opacity:.8; }
.count-pill { background:var(--surface); border:1px solid var(--border-alt); padding:.2rem .5rem; font-size:.55rem; border-radius:999px; line-height:1; font-weight:600; }

.skill-chip-wrap { display:flex; flex-wrap:wrap; gap:.55rem; }
.empty-hint { font-size:.6rem; opacity:.55; padding:.15rem 0 .3rem; }
.skill-chip { --bg:var(--surface); --bd:var(--border-alt); display:inline-flex; align-items:center; gap:.3rem; background:var(--bg); border:1px solid var(--bd); padding:.4rem .55rem; border-radius:9px; font-size:.65rem; font-weight:500; position:relative; line-height:1.1; }
.skill-chip.teach { --bg:var(--surface-accent); }
.skill-chip .main { font-weight:600; }
.skill-chip .badge { font-size:.5rem; text-transform:uppercase; letter-spacing:.5px; padding:.2rem .35rem .25rem; border-radius:5px; background:var(--surface-alt); border:1px solid var(--border-alt); font-weight:600; line-height:1; }
.skill-chip .badge.level { background:var(--surface); }
.skill-chip .badge.cat { opacity:.75; }
.skill-chip .remove-btn { width:18px; height:18px; padding:0; margin-left:.1rem; opacity:.65; }
.skill-chip .remove-btn:hover { opacity:1; background:var(--surface-alt); }

html[data-color-mode='light'] .skill-chip.teach { --bg:var(--surface-accent); }
html[data-color-mode='light'] .segmented button { color:var(--muted); }
html[data-color-mode='light'] .segmented button.active { color:var(--text); }

/* ---- Matches Redesign ---- */
.matches { padding:1.25rem 1.25rem 1.3rem; }
.matches-head h3 { margin:.2rem 0 .35rem; font-size:1.05rem; }
.matches-head p { margin:0 0 .6rem; max-width:600px; line-height:1.3; font-size:.7rem; }
.matches-filters { display:flex; flex-wrap:wrap; gap:.65rem; align-items:center; margin-bottom:1rem; }
.matches-filters .grow { flex:1; }
.matches-filters select, .matches-filters input { max-width:210px; }
@media (max-width:620px){ .matches-filters select, .matches-filters input { max-width:100%; flex:1; } }
.matches-grid { display:grid; gap:1.15rem; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); }
.match-card { position:relative; background:var(--surface-alt); border:1px solid var(--border-alt); padding:1.15rem 1.15rem 1.2rem; border-radius:14px; display:flex; flex-direction:column; gap:.85rem; overflow:hidden; transition:background .25s ease,border-color .3s ease, transform .25s ease, box-shadow .25s ease; min-height:245px; }
.match-card.exchanged { opacity:.65; }
.match-card.exchanged:hover { opacity:.85; }
.match-card::before { content:""; position:absolute; inset:0; pointer-events:none; background:radial-gradient(circle at 85% 15%,rgba(90,155,255,.14),transparent 68%); opacity:.65; }
.match-card:hover { border-color:#2563ebcc; transform:translateY(-6px); box-shadow:0 10px 30px -12px rgba(0,0,0,.5); }
.match-card-head { display:flex; align-items:center; gap:.85rem; }
.match-card-head .avatar { width:54px; height:54px; border-radius:14px; background:linear-gradient(135deg,#1f2732,#26323f); display:flex; align-items:center; justify-content:center; font-weight:600; font-size:1.05rem; letter-spacing:.5px; }
html[data-color-mode='light'] .match-card-head .avatar { background:linear-gradient(135deg,#dfe4e9,#ccd4db); }
.match-card-head .meta { display:flex; flex-direction:column; line-height:1.15; gap:.2rem; }
.match-card-head .name { font-weight:600; font-size:1rem; letter-spacing:.3px; }
.score-row { display:flex; gap:.4rem; align-items:center; }
.score-badge { font-size:.62rem; letter-spacing:.55px; text-transform:uppercase; background:#1d4ed8; color:#fff; padding:.32rem .55rem .37rem; border-radius:6px; font-weight:600; }
html[data-color-mode='light'] .score-badge { background:#1d4ed8; }
.overlaps { display:grid; grid-template-columns:1fr 1fr; gap:.85rem; }
@media (max-width:520px){ .overlaps { grid-template-columns:1fr; } }
.overlaps .label { font-size:.68rem; text-transform:uppercase; letter-spacing:.75px; opacity:.7; margin-bottom:.4rem; }
.chips { display:flex; flex-wrap:wrap; gap:.45rem; min-height:24px; }
.overlap-chip { font-size:.68rem; padding:.42rem .65rem .47rem; border-radius:10px; background:var(--surface); border:1px solid var(--border-alt); font-weight:600; letter-spacing:.5px; }
.overlap-chip.learn { background:#1e3a8a; border-color:#1e3a8a; color:#fff; }
.overlap-chip.teach { background:#065f46; border-color:#065f46; color:#fff; }
html[data-color-mode='light'] .overlap-chip.learn { background:#1d4ed8; border-color:#1d4ed8; }
html[data-color-mode='light'] .overlap-chip.teach { background:#15803d; border-color:#15803d; }
.overlap-chip.more { background:var(--surface-alt); }
.teach-summary { font-size:.72rem; line-height:1.4; opacity:.92; }
.teach-summary .muted { font-size:.72rem; }
.match-card .actions { margin-top:.1rem; }
.match-card .actions button { width:100%; font-size:.8rem; padding:.78rem .95rem; border-radius:11px; }
.visually-hidden { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }


